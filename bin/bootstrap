#!/bin/bash

pathToHere=$(cd "$(dirname "$0")"; pwd)

# DESTRUCTIVE !
echo "deleting .vimrc symlink"
rm -f "$HOME/.vimrc"
echo "making new symlink"
ln -s $pathToHere/../vimrc $HOME/.vimrc

echo "deleting .gvimrc symlink"
rm -f "$HOME/.gvimrc"
echo "making new symlink"
ln -s $pathToHere/../gvimrc $HOME/.gvimrc

echo "deleting .vimrc.local symlink"
rm -f "$HOME/.vimrc.local"
echo "making new symlink"
ln -s $pathToHere/../vimrc.local $HOME/.vimrc.local

echo "deleting .gvimrc.local symlink"
rm -f "$HOME/.gvimrc.local"
echo "making new symlink"
ln -s $pathToHere/../gvimrc.local $HOME/.gvimrc.local


. $pathToHere/myUpdateBundles

if  ! which node >/dev/null 2>&1  ||  ! which jsctags >/dev/null 2>&1 ;then
	echo "
	WARN : either node.js or jsctags (jsdoctor) seems to be missing on your
	       system. vim-taglist-plus will use CTAGS instead of JSCTAGS for js
		   (https://github.com/pcwalton/doctorjs.git)
"
fi


if  ! which html5check >/dev/null 2>&1 ;then
	echo "
	WARN : html5check is not in your path, do: 

	         ln -s ~/.vim/lib/html5check /usr/local/bin/html5check

	       so that you can use the ",5" mapping to properly validate
         HTML5 files (syntastic's based on tidy and is broken)
"
fi
